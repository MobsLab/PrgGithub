function OnlineGuiReglage(obj,event);
global BW_threshold2
global smaller_object_size2
global shape_ratio_2


color_on = [ 0 0 0];
if ~exist('typical_size','var'), typical_size=30;end
typical_size
typical_rapport=5;

guireg_fig=figure('units','normalized',...
    'position',[0.1 0.1 0.15 0.6],...
    'numbertitle','off',...
    'name','Online Mouse Tracking : Setting Parameters',...
    'menubar','none',...
    'tag','figure reglage');
set(guireg_fig,'Color',color_on);

text1=uicontrol(guireg_fig,'style','text', ...
    'units','normalized',...
    'position',[0.05 0.85 0.25 0.03],...
    'string','seuil couleur');

text2=uicontrol(guireg_fig,'style','text', ...
    'units','normalized',...
    'position',[0.4 0.85 0.25 0.03],...
    'string','seuil objets');

text3=uicontrol(guireg_fig,'style','text', ...
    'units','normalized',...
    'position',[0.7 0.85 0.25 0.03],...
    'string','rapport axes');

slider_seuil = uicontrol(guireg_fig,'style','slider',...
    'units','normalized',...
    'position',[0.05 0.1 0.15 0.7],...
    'callback', @seuil);

slider_small=uicontrol(guireg_fig,'style','slider',...
    'units','normalized',...
    'position',[0.4 0.1 0.15 0.7],...
    'callback', @elimination);

slider_rapport = uicontrol(guireg_fig,'style','slider',...
    'units','normalized',...
    'position',[0.7 0.1 0.15 0.7],...
    'callback', @rapport);


text5=uicontrol(guireg_fig,'style','text', ...
    'units','normalized',...
    'position',[0.05 0.05 0.25 0.03],...
    'string',num2str(BW_threshold2));

text6=uicontrol(guireg_fig,'style','text', ...
    'units','normalized',...
    'position',[0.4 0.05 0.25 0.03],...
    'string',num2str(smaller_object_size2));

text4=uicontrol(guireg_fig,'style','text', ...
    'units','normalized',...
    'position',[0.7 0.05 0.25 0.03],...
    'string',num2str(shape_ratio_2));


    function seuil(obj,event)
        
        BW_threshold2 = get(slider_seuil, 'value');
        set(text5,'string',num2str(BW_threshold2))
    end
%get threshold value
    function elimination(obj,event)
        smaller_object_size2 = round(get(slider_small,'value')*typical_size);
        set(text6,'string',num2str(smaller_object_size2))
    end
    function rapport(obj,event)
        shape_ratio_2 = (get(slider_rapport,'value')*typical_rapport);
        set(text4,'string',num2str(shape_ratio_2))
    end
end
mm=0;
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/Mouse692-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/Mouse692-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/09102018/Mouse962-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/10102018/Mouse692-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/11102018/Mouse692-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/12102018/Mouse692-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/Mouse693-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/Mouse693-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/09102018/Mouse693-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/10102018/Mouse693-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/11102018/Mouse693-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/12102018/Mouse693-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/Mouse751-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/Mouse751-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/10102018/Mouse740-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/12102018/Mouse740-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/Mouse750-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/Mouse750-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/09102018/Mouse750-BaselineSleep/behavResources.mat';
% mm=mm+1;
% VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/11102018/F11102018-0000.avi';
% BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/11102018/Mouse750-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/12102018/Mouse750-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/Mouse776-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/Mouse776-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/09102018/Mouse776-BaselineSleep/behavResources.mat';
mm=mm+1;
% VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/11102018/F11102018-0000.avi';
% BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/11102018/Mouse776-BaselineSleep/behavResources.mat';
% mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/12102018/Mouse776-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M778/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M778/09102018/Mouse778-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M777/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M777/09102018/Mouse777-BaselineSleep/behavResources.mat';
mm=mm+1;


mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/10102018/Mouse779-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/12102018/Mouse779-BaselineSleep/behavResources.mat';



for k = 1:mm
    k
    load(BehavResourcesLocation{k})
    a = VideoReader(VideoLocation{k});
    

MouseTemp2 = [];
while a.hasFrame
    IM = a.readFrame;
    IM = IM(:,:,1);
    IM = double(IM)/256;
    
    MouseTemp2 = [MouseTemp2,max(max(double(IM).*double(mask)))];
end

cd(BehavResourcesLocation{k}(1:end-18))

save('MouseTemp2.mat','MouseTemp2')


end


clear MouseType  SesType  AllTemp

for k = 1:mm
    
    cd(BehavResourcesLocation{k}(1:end-18))
    
    load('MouseTemp2.mat','MouseTemp2')
    cd ..
    load('ExpeInfo.mat')
    MouseTemp2(MouseTemp2<0.45) = [];
    AllTemp(k,:) = hist(MouseTemp2,[0.3:0.02:1]);
    switch ExpeInfo.DrugInjected
        case 'SALINE'
            MouseType(k,:) = 0;
        case 'METHIMAZOLE'
            MouseType(k,:) =1;
    end
    switch ExpeInfo.SessionType
        case 'SleepBaseline_PostDrug'
            SesType(k,:) = 0;
        case 'SleepBaseline_PreDrug'
            SesType(k,:) =1;
    end

    
end


figure(1)
clf
plot([0.3:0.02:1],AllTemp(find(MouseType==1 &SesType==1),:)','r')
hold on
plot([0.3:0.02:1],AllTemp(find(MouseType==0 &SesType==1),:)','k')
figure(2)
clf
plot([0.3:0.02:1],AllTemp(find(MouseType==1 &SesType==0),:)','r')
hold on
plot([0.3:0.02:1],AllTemp(find(MouseType==0 &SesType==0),:)','k')
mm=0;
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/Mouse692-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/08102018/Mouse692-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/09102018/Mouse962-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/10102018/Mouse692-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/11102018/Mouse692-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M692/12102018/Mouse692-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/Mouse693-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/08102018/Mouse693-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/09102018/Mouse693-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/10102018/Mouse693-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/11102018/Mouse693-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M693/12102018/Mouse693-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/Mouse751-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-01.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-01/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/F08102018-0000-02.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/08102018/Mouse751-BaselineSleep-02/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/09102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/10102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/F11102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/11102018/Mouse751-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBS91/MTZL_Exp/M751/12102018/Mouse751-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/10102018/Mouse740-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M740/12102018/Mouse740-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/Mouse750-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/08102018/Mouse750-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/09102018/Mouse750-BaselineSleep/behavResources.mat';
% mm=mm+1;
% VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/11102018/F11102018-0000.avi';
% BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/11102018/Mouse750-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M750/12102018/Mouse750-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/Mouse776-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/F08102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/08102018/Mouse776-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/09102018/Mouse776-BaselineSleep/behavResources.mat';
mm=mm+1;
% VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/11102018/F11102018-0000.avi';
% BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/11102018/Mouse776-BaselineSleep/behavResources.mat';
% mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M776/12102018/Mouse776-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M778/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M778/09102018/Mouse778-BaselineSleep/behavResources.mat';

mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M777/09102018/F09102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M777/09102018/Mouse777-BaselineSleep/behavResources.mat';
mm=mm+1;


mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/10102018/F10102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/10102018/Mouse779-BaselineSleep/behavResources.mat';
mm=mm+1;
VideoLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/12102018/F12102018-0000.avi';
BehavResourcesLocation{mm} = '/media/mobschapeau/DataMOBSBackup_GaetanPC/MTZLRecordings/M779/12102018/Mouse779-BaselineSleep/behavResources.mat';



for k = 1:mm
    k
    load(BehavResourcesLocation{k})
    a = VideoReader(VideoLocation{k});
    

MouseTemp2 = [];
while a.hasFrame
    IM = a.readFrame;
    IM = IM(:,:,1);
    IM = double(IM)/256;
    
    MouseTemp2 = [MouseTemp2,max(max(double(IM).*double(mask)))];
end

cd(BehavResourcesLocation{k}(1:end-18))

save('MouseTemp2.mat','MouseTemp2')


end


clear MouseType  SesType  AllTemp

for k = 35:mm
    
    cd(BehavResourcesLocation{k}(1:end-18))
    
    load('MouseTemp2.mat','MouseTemp2')
    cd ..
    load('ExpeInfo.mat')
    MouseTemp2(MouseTemp2<0.45) = [];
    AllTemp(k,:) = hist(MouseTemp2,[0.3:0.02:1]);
    switch ExpeInfo.DrugInjected
        case 'SALINE'
            MouseType(k,:) = 0;
        case 'METHIMAZOLE'
            MouseType(k,:) =1;
    end
    switch ExpeInfo.SessionType
        case 'SleepBaseline_PostDrug'
            SesType(k,:) = 0;
        case 'SleepBaseline_PreDrug'
            SesType(k,:) =1;
    end

    
end


figure(1)
clf
plot([0.3:0.02:1],AllTemp(find(MouseType==1 &SesType==1),:)','r')
hold on
plot([0.3:0.02:1],AllTemp(find(MouseType==0 &SesType==1),:)','k')
figure(2)
clf
plot([0.3:0.02:1],AllTemp(find(MouseType==1 &SesType==0),:)','r')
hold on
plot([0.3:0.02:1],AllTemp(find(MouseType==0 &SesType==0),:)','k')



clear MouseType  SesType  AllTemp

for k = 1:mm
    
    cd(BehavResourcesLocation{k}(1:end-18))
    cd ..
    try
        disp(BehavResourcesLocation{k}(1:end-18))
        SleepScoring_Accelero_OBgamma
    end
    
end


for k = 1:mm
    
    cd(BehavResourcesLocation{k}(1:end-18))    
    cd ..

    
end

%%
clear all
% Get video
VideoName = 'F09102018-0000.avi';
a = VideoReader(VideoName);
global camtype;camtype = 'IR';

MouseTemp2 = [];
while a.hasFrame
    IM = a.readFrame;
    IM = IM(:,:,1);
    IM = double(IM)/256;
    
    MouseTemp2 = [MouseTemp2,max(max(double(IM).*double(mask)))];
    
end
